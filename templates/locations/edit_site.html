<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tawi | Edit Planting Site</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>

  <style>
    body {
      background-image: url('{% static "img/tawi_forest_bg.jpg" %}');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }
    .glass {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(34,197,94,0.25);
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(34,197,94,0.15);
    }
    .btn-green {
      background-color: #22c55e;
      color: white;
      font-weight: 600;
      border-radius: 10px;
      padding: 0.6rem 1.4rem;
      transition: all 0.3s ease;
    }
    .btn-green:hover {
      background-color: #16a34a;
      transform: translateY(-1px);
    }
    .btn-red {
      background-color: #dc2626;
      color: white;
      font-weight: 600;
      border-radius: 10px;
      padding: 0.6rem 1.4rem;
      transition: all 0.3s ease;
    }
    .btn-red:hover {
      background-color: #b91c1c;
      transform: translateY(-1px);
    }
    input, select, textarea {
      width: 100%;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      padding: 0.5rem 0.75rem;
      outline: none;
      transition: border 0.3s ease, box-shadow 0.3s ease;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #22c55e;
      box-shadow: 0 0 0 3px rgba(34,197,94,0.25);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-8 bg-green-50/70">

  <!-- Header -->
  <header class="text-center mb-8">
    <div class="flex flex-col items-center gap-3">
      <img src="{% static 'img/tawi_logo.png' %}" alt="Tawi Logo" 
           class="w-16 h-16 rounded-full border border-green-300"
           onerror="this.onerror=null;this.src='{% static 'img/tawi_leaf_logo.svg' %}';" />
      <h1 class="text-3xl font-extrabold text-green-700 flex items-center gap-2">
        <i data-feather="edit-3" class="text-green-600 w-7 h-7"></i>
        Edit Planting Site
      </h1>
      <p class="text-green-600 text-sm">Update the details of your planting site below.</p>
    </div>
  </header>

  <!-- Edit Form -->
  <div class="glass w-full max-w-2xl p-8">
    <form method="post" class="space-y-6">
      {% csrf_token %}
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {% for field in form %}
        <div>
          <label class="block text-gray-700 font-semibold mb-2">{{ field.label_tag }}</label>
          {{ field }}
          {% if field.errors %}
            <p class="text-red-600 text-sm mt-1">{{ field.errors.0 }}</p>
          {% endif %}
        </div>
        {% endfor %}
      </div>

      <div class="flex justify-center gap-4 pt-6">
        <button type="submit" class="btn-green flex items-center gap-2">
          <i data-feather="save" class="w-4 h-4"></i> Save Changes
        </button>
        <a href="{% url 'locations:location_map' %}" class="btn-red flex items-center gap-2">
          <i data-feather="x-circle" class="w-4 h-4"></i> Cancel
        </a>
      </div>
    </form>
  </div>

  <!-- Footer -->
  <footer class="mt-10 text-center text-green-400 text-xs">
    Â© 2025 Tawi Tree Planting Project | Admin Panel
  </footer>

  <script>feather.replace();</script>
</body>
</html>
